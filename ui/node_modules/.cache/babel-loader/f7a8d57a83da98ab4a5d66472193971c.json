{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/Survey.vue?vue&type=template&id=7859deec","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/Survey.vue","mtime":1626389458532},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2sgfSBmcm9tICJ2dWUiOwoKY29uc3QgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgU3VydmV5IGNvbnRlbnQgLi4uICIpOwoKY29uc3QgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImhyIiwgbnVsbCwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImRpYWdub3N0aWMiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJoMSIsIG51bGwsICJTdXJ2ZXk6IG4iICsgX3RvRGlzcGxheVN0cmluZyh0aGlzLmxhYmVsKSwgMQogIC8qIFRFWFQgKi8KICApLCBfaG9pc3RlZF8xLCBfaG9pc3RlZF8yLCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF8zLCBfdG9EaXNwbGF5U3RyaW5nKHRoaXMuaWQpLCAxCiAgLyogVEVYVCAqLwogICldKTsKfQ=="},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/Survey.vue"],"names":[],"mappings":";;iDAE0C,sB;;gCAElC,YAAA,CAAM,IAAN,EAAM,IAAN,EAAM,IAAN,EAAM,CAAA;AAAA;AAAN,C;;;AACG,EAAA,KAAK,EAAC;;;uBAJb,YAAA,CAMM,KANN,EAMM,IANN,EAMM,CALF,YAAA,CAAkC,IAAlC,EAAkC,IAAlC,EAAI,cAAS,gBAAA,CAAA,KAAQ,KAAR,CAAb,EAA0B;AAAA;AAA1B,GAKE,E,UAAA,EAHF,UAGE,EAFF,YAAA,CAAuC,GAAvC,EAAA,UAAA,EAAuC,gBAAA,CAAA,KAAT,EAAS,CAAvC,EAAgC;AAAA;AAAhC,GAEE,CANN,C","sourcesContent":["<template>\n    <div>\n        <h1>Survey: n{{ this.label}} </h1>\n        Survey content ...\n        <hr />\n        <p class=\"diagnostic\">{{ this.id }}</p>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Survey\",\n    props: [\"id\"],\n    data() {\n        return {\n            isLoaded: false,\n            surveyBase: \"https://esip-dev-02.edacnm.org/api/get_survey/\",\n            fetchURL: \"\",\n            surveyContent: {},\n        };\n    },\n    methods: {\n        fetchSurvey(id) {\n            console.log(\"entering fetchSurvey\");\n            this.isLoaded = false;\n            console.log(\"Trying to retrieve survey content for this survey: \", id);\n            this.fetchURL = this.surveyBase.concat(id);\n            console.log(\"Request URL: \", this.fetchURL);\n            fetch(this.fetchURL, {\n                method: \"GET\",\n            })\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error();\n                }\n            })\n            .then((result) => {\n                this.surveyContent = result;\n                console.log(this.surveyContent);\n                //console.log(obj2string(this.surveyContent));\n            })\n            .catch(() => {});\n        },\n        //broken\n        //obj2string(data){\n        //    fs = '<div class=\"formdiv\">'\n        //        fs = fs + '<h1 class=\"formheader\">' + data['label'] + '</h1>'\n        //        fs = fs + '<form action=\"'+server+'/api/submit_survey/'+uuid+'\" method=\"post\">'\n        //        fs = fs + '<input type=\"hidden\" id=\"submitterid\" name=\"submitter\" value=\"'+uuidv4()+'\">'    \n        //        for (var j = 0; j < data['question_groups'].length; j++) {\n        //            fs = fs + '<fieldset class=\"formfieldset\" ><legend>' + data['question_groups'][j]['label'] + '</legend>'\n        //                for (var k = 0; k < data['question_groups'][j]['questions'].length; k++) {\n        //                    q=data['question_groups'][j]['questions'][k]\n        //                    if (q['element']=='input'){\n        //                    \n        //                        if (q[\"input_type\"]==\"range\"){\n        //                            console.log(q[\"options\"][0]['key'])\n        //                            fs = fs + '<br><label class=\"formlabel\" for=\"'+q['id']+'\">'+q['label']+'</label><br>'\n        //                           // fs = fs + '<span><input class=\"forminput\" type=\"'+q['input_type']+'\" id=\"'+q['id']+'\" name=\"'+q['id']+'\" >''</span><br>'\n//\n        //                            fs = fs + '<span>'+q[\"options\"][0]['key']+'<input class=\"forminput\" type=\"'+q['input_type']+'\" id=\"'+q['id']+'\" name=\"'+q['id']+'\" min=\"'+q[\"options\"][0]['value']+'\" max=\"'+ q[\"options\"][1]['value']+'\" >'+q[\"options\"][1]['key']+'</span><br>'\n//\n        //                        }else{\n        //                            fs = fs + '<br><label class=\"formlabel\" for=\"'+q['id']+'\">'+q['label']+'</label><br>'\n        //                            fs = fs + '<input class=\"forminput\" type=\"'+q['input_type']+'\" id=\"'+q['id']+'\" name=\"'+q['id']+'\" ><br>'\n        //                        }\n        //                    }\n        //                    if (q['element']=='select'){\n        //                        fs = fs +'<br><label for=\"'+q['id']+'\">'+q['label']+'</label>'\n        //                        fs = fs +'<select class=\"formoption\" name=\"'+q['id']+'\" id=\"'+q['id']+'\">'\n        //                            for (var l = 0; l < q['options'].length; l++) {\n        //                                fs = fs +'<option value=\"'+q['options'][l]['value']+'\">'+q['options'][l]['key']+'</option>'\n        //                            }\n        //                        fs = fs +'</select><br>'\n        //                    }\n        //                }\n        //            fs = fs + '</fieldset>'\n        //            fs=fs+'   <input type=\"submit\" value=\"Submit\"> </form>'\n        //        }\n        //        fs = fs + '</div>'\n        //    return fs\n        //}\n\n},\ncreated() {\n    this.fetchSurvey(this.id);\n},\n\n\n};  \n</script >\n    .diagnostic {\n        font-size: xx-small;\n    }\n<style scoped></style>"],"sourceRoot":""}]}