{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/logintest.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/logintest.vue","mtime":1625625943162},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRm9ybSwgRmllbGQsIEVycm9yTWVzc2FnZSB9IGZyb20gInZlZS12YWxpZGF0ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBGb3JtLAogICAgRmllbGQsCiAgICBFcnJvck1lc3NhZ2UKICB9LAoKICBkYXRhKCkgewogICAgY29uc3Qgc2NoZW1hID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVXNlcm5hbWUgaXMgcmVxdWlyZWQhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2NoZW1hCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWxlIik7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFuZGxlTG9naW4odXNlcikgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dpbiIsIHVzZXIpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpOwogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/logintest.vue"],"names":[],"mappings":"AAuCC,SAAS,IAAT,EAAe,KAAf,EAAsB,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AAEA,eAAe;AACd,EAAA,IAAI,EAAE,OADQ;AAGd,EAAA,UAAU,EAAE;AACX,IAAA,IADW;AAEX,IAAA,KAFW;AAGX,IAAA;AAHW,GAHE;;AASd,EAAA,IAAI,GAAG;AACN,UAAM,MAAK,GAAI,GAAG,CAAC,MAAJ,GAAa,KAAb,CAAmB;AACjC,MAAA,QAAQ,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,CAAsB,uBAAtB,CADuB;AAEjC,MAAA,QAAQ,EAAE,GAAG,CAAC,MAAJ,GAAa,QAAb,CAAsB,uBAAtB;AAFuB,KAAnB,CAAf;AAKA,WAAO;AACN,MAAA,OAAO,EAAE,KADH;AAEN,MAAA,OAAO,EAAE,EAFH;AAGN,MAAA;AAHM,KAAP;AAKA,GApBa;;AAsBd,EAAA,QAAQ,EAAE;AACT,IAAA,QAAQ,GAAG;AACV,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,MAAvB,CAA8B,QAArC;AACA;;AAHQ,GAtBI;;AA4Bd,EAAA,OAAO,GAAG;AACT,QAAI,KAAK,QAAT,EAAmB;AAClB,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACD;AACA,GAhCa;;AAkCd,EAAA,OAAO,EAAE;AACR,IAAA,WAAW,CAAC,IAAD,EAAO;AACjB,WAAK,OAAL,GAAe,IAAf;AAEA,WAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC,IAAnC,EAAyC,IAAzC,CACC,MAAM;AACL,aAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACA,OAHF,EAIE,KAAD,IAAW;AACV,aAAK,OAAL,GAAe,KAAf;AACA,aAAK,OAAL,GACE,KAAK,CAAC,QAAN,IACD,KAAK,CAAC,QAAN,CAAe,IADd,IAED,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,OAFpB,IAGA,KAAK,CAAC,OAHN,IAIA,KAAK,CAAC,QAAN,EALD;AAMD,OAZD;AAcA;;AAlBO;AAlCK,CAAf","sourcesContent":["<template>\n\t<div class=\"col-md-12\">\n\t<div class=\"card card-container\">\n\t\t<img\n\t\t\tid=\"profile-img\"\n\t\t\tsrc=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n\t\t\tclass=\"profile-img-card\"\n\t\t/>\n\t\t<Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n            <div class=\"form-group\">\n\t\t\t\t<label for=\"username\">Username</label>\n\t\t\t\t<Field name=\"username\" type=\"text\" class=\"form-control\" />\n\t\t\t\t<ErrorMessage name=\"username\" class=\"error-feedback\" />\n\t\t\t</div>\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label for=\"password\">Password</label>\n\t\t\t\t<Field name=\"password\" type=\"password\" class=\"form-control\" />\n\t\t\t\t<ErrorMessage name=\"password\" class=\"error-feedback\" />\n\t\t\t</div>\t\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n\t\t\t\t<span\n\t\t\t\t\tv-show=\"loading\"\n\t\t\t\t\tclass=\"spinner-border spinner-border-sm\"\n\t\t\t\t></span>\n\t\t\t\t<span>Login</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n\t\t\t\t\t{{ message }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Form>\n\t</div>\n</div>\n</template>\n\t\n<script>\n\timport { Form, Field, ErrorMessage } from \"vee-validate\";\n\timport * as yup from \"yup\";\n\t\n\texport default {\n\t\tname: \"Login\",\n\t\t\n\t\tcomponents: {\n\t\t\tForm,\n\t\t\tField,\n\t\t\tErrorMessage,\n\t\t},\n\t\t\n\t\tdata() {\n\t\t\tconst schema = yup.object().shape({\n\t\t\t\tusername: yup.string().required(\"Username is required!\"),\n\t\t\t\tpassword: yup.string().required(\"Password is required!\"),\n\t\t\t});\n\t\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tmessage: \"\",\n\t\t\t\tschema,\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\t\t\tloggedIn() {\n\t\t\t\treturn this.$store.state.auth.status.loggedIn;\n\t\t\t},\n\t\t},\n\n\t\tcreated() {\n\t\t\tif (this.loggedIn) {\n\t\t\t\tthis.$router.push(\"/profile\");\n\t\t\t}\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\thandleLogin(user) {\n\t\t\t\tthis.loading = true;\n\t\n\t\t\t\tthis.$store.dispatch(\"auth/login\", user).then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tthis.$router.push(\"/profile\");\n\t\t\t\t\t},\n\t\t\t\t\t(error) => {\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\tthis.message =\n\t\t\t\t\t\t\t(error.response &&\n\t\t\t\t\t\t\terror.response.data &&\n\t\t\t\t\t\t\terror.response.data.message) ||\n\t\t\t\t\t\t\terror.message ||\n\t\t\t\t\t\t\terror.toString();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t};\n</script>\n\t\n<style scoped>\n</style>\n\t"],"sourceRoot":""}]}