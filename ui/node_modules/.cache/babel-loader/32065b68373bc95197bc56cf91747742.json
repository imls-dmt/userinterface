{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/karl/Repos/dmtc-userinterface/ui/src/services/auth.service.js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/services/auth.service.js","mtime":1625622685972},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3QgQVBJX1VSTCA9ICdodHRwczovL2VzaXAtZGV2LTAyLmVkYWNubS5vcmcvJzsKCmNsYXNzIEF1dGhTZXJ2aWNlIHsKICBsb2dpbih1c2VyKSB7CiAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ2xvZ2luX2pzb24nLCB7CiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLAogICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIGlmIChyZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0KCiAgbG9nb3V0KCkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICB9Cgp9CgpleHBvcnQgZGVmYXVsdCBuZXcgQXV0aFNlcnZpY2UoKTs="},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/services/auth.service.js"],"names":["axios","API_URL","AuthService","login","user","post","username","password","then","response","data","accessToken","localStorage","setItem","JSON","stringify","console","log","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,iCAAhB;;AAEA,MAAMC,WAAN,CAAkB;AAChBC,EAAAA,KAAK,CAACC,IAAD,EAAO;AACb,WAAOJ,KAAK,CACTK,IADI,CACCJ,OAAO,GAAG,YADX,EACyB;AAC/BK,MAAAA,QAAQ,EAAEF,IAAI,CAACE,QADgB;AAE/BC,MAAAA,QAAQ,EAAEH,IAAI,CAACG;AAFgB,KADzB,EAKJC,IALI,CAKCC,QAAQ,IAAI;AACnB,UAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA+B;AAC7BC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACD;;AACDM,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACC,IAArB;AACA,aAAOD,QAAQ,CAACC,IAAhB;AACE,KAXI,CAAP;AAYE;;AAEDQ,EAAAA,MAAM,GAAG;AACVN,IAAAA,YAAY,CAACO,UAAb,CAAwB,MAAxB;AACE;;AAlBe;;AAqBlB,eAAe,IAAIjB,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://esip-dev-02.edacnm.org/';\n\nclass AuthService {\n  login(user) {\n\treturn axios\n\t  .post(API_URL + 'login_json', {\n\t\tusername: user.username,\n\t\tpassword: user.password\n\t  })\n\t  .then(response => {\n\t\tif (response.data.accessToken) {\n\t\t  localStorage.setItem('user', JSON.stringify(response.data));\n\t\t}\n\t\tconsole.log(response.data);\n\t\treturn response.data;\n\t  });\n  }\n\n  logout() {\n\tlocalStorage.removeItem('user');\n  }\n}\n\nexport default new AuthService();"]}]}