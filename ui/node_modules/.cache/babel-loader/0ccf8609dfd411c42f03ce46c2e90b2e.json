{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/Survey.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/Survey.vue","mtime":1626389458532},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdXJ2ZXkiLAogIHByb3BzOiBbImlkIl0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvYWRlZDogZmFsc2UsCiAgICAgIHN1cnZleUJhc2U6ICJodHRwczovL2VzaXAtZGV2LTAyLmVkYWNubS5vcmcvYXBpL2dldF9zdXJ2ZXkvIiwKICAgICAgZmV0Y2hVUkw6ICIiLAogICAgICBzdXJ2ZXlDb250ZW50OiB7fQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBmZXRjaFN1cnZleShpZCkgewogICAgICBjb25zb2xlLmxvZygiZW50ZXJpbmcgZmV0Y2hTdXJ2ZXkiKTsKICAgICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZygiVHJ5aW5nIHRvIHJldHJpZXZlIHN1cnZleSBjb250ZW50IGZvciB0aGlzIHN1cnZleTogIiwgaWQpOwogICAgICB0aGlzLmZldGNoVVJMID0gdGhpcy5zdXJ2ZXlCYXNlLmNvbmNhdChpZCk7CiAgICAgIGNvbnNvbGUubG9nKCJSZXF1ZXN0IFVSTDogIiwgdGhpcy5mZXRjaFVSTCk7CiAgICAgIGZldGNoKHRoaXMuZmV0Y2hVUkwsIHsKICAgICAgICBtZXRob2Q6ICJHRVQiCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgICAgfQogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgdGhpcy5zdXJ2ZXlDb250ZW50ID0gcmVzdWx0OwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3VydmV5Q29udGVudCk7IC8vY29uc29sZS5sb2cob2JqMnN0cmluZyh0aGlzLnN1cnZleUNvbnRlbnQpKTsKICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfSAvL2Jyb2tlbgogICAgLy9vYmoyc3RyaW5nKGRhdGEpewogICAgLy8gICAgZnMgPSAnPGRpdiBjbGFzcz0iZm9ybWRpdiI+JwogICAgLy8gICAgICAgIGZzID0gZnMgKyAnPGgxIGNsYXNzPSJmb3JtaGVhZGVyIj4nICsgZGF0YVsnbGFiZWwnXSArICc8L2gxPicKICAgIC8vICAgICAgICBmcyA9IGZzICsgJzxmb3JtIGFjdGlvbj0iJytzZXJ2ZXIrJy9hcGkvc3VibWl0X3N1cnZleS8nK3V1aWQrJyIgbWV0aG9kPSJwb3N0Ij4nCiAgICAvLyAgICAgICAgZnMgPSBmcyArICc8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0ic3VibWl0dGVyaWQiIG5hbWU9InN1Ym1pdHRlciIgdmFsdWU9IicrdXVpZHY0KCkrJyI+JyAgICAKICAgIC8vICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbJ3F1ZXN0aW9uX2dyb3VwcyddLmxlbmd0aDsgaisrKSB7CiAgICAvLyAgICAgICAgICAgIGZzID0gZnMgKyAnPGZpZWxkc2V0IGNsYXNzPSJmb3JtZmllbGRzZXQiID48bGVnZW5kPicgKyBkYXRhWydxdWVzdGlvbl9ncm91cHMnXVtqXVsnbGFiZWwnXSArICc8L2xlZ2VuZD4nCiAgICAvLyAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRhdGFbJ3F1ZXN0aW9uX2dyb3VwcyddW2pdWydxdWVzdGlvbnMnXS5sZW5ndGg7IGsrKykgewogICAgLy8gICAgICAgICAgICAgICAgICAgIHE9ZGF0YVsncXVlc3Rpb25fZ3JvdXBzJ11bal1bJ3F1ZXN0aW9ucyddW2tdCiAgICAvLyAgICAgICAgICAgICAgICAgICAgaWYgKHFbJ2VsZW1lbnQnXT09J2lucHV0Jyl7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxWyJpbnB1dF90eXBlIl09PSJyYW5nZSIpewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocVsib3B0aW9ucyJdWzBdWydrZXknXSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzID0gZnMgKyAnPGJyPjxsYWJlbCBjbGFzcz0iZm9ybWxhYmVsIiBmb3I9IicrcVsnaWQnXSsnIj4nK3FbJ2xhYmVsJ10rJzwvbGFiZWw+PGJyPicKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnMgPSBmcyArICc8c3Bhbj48aW5wdXQgY2xhc3M9ImZvcm1pbnB1dCIgdHlwZT0iJytxWydpbnB1dF90eXBlJ10rJyIgaWQ9IicrcVsnaWQnXSsnIiBuYW1lPSInK3FbJ2lkJ10rJyIgPicnPC9zcGFuPjxicj4nCiAgICAvLwogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnMgPSBmcyArICc8c3Bhbj4nK3FbIm9wdGlvbnMiXVswXVsna2V5J10rJzxpbnB1dCBjbGFzcz0iZm9ybWlucHV0IiB0eXBlPSInK3FbJ2lucHV0X3R5cGUnXSsnIiBpZD0iJytxWydpZCddKyciIG5hbWU9IicrcVsnaWQnXSsnIiBtaW49IicrcVsib3B0aW9ucyJdWzBdWyd2YWx1ZSddKyciIG1heD0iJysgcVsib3B0aW9ucyJdWzFdWyd2YWx1ZSddKyciID4nK3FbIm9wdGlvbnMiXVsxXVsna2V5J10rJzwvc3Bhbj48YnI+JwogICAgLy8KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcyA9IGZzICsgJzxicj48bGFiZWwgY2xhc3M9ImZvcm1sYWJlbCIgZm9yPSInK3FbJ2lkJ10rJyI+JytxWydsYWJlbCddKyc8L2xhYmVsPjxicj4nCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcyA9IGZzICsgJzxpbnB1dCBjbGFzcz0iZm9ybWlucHV0IiB0eXBlPSInK3FbJ2lucHV0X3R5cGUnXSsnIiBpZD0iJytxWydpZCddKyciIG5hbWU9IicrcVsnaWQnXSsnIiA+PGJyPicKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICBpZiAocVsnZWxlbWVudCddPT0nc2VsZWN0Jyl7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGZzID0gZnMgKyc8YnI+PGxhYmVsIGZvcj0iJytxWydpZCddKyciPicrcVsnbGFiZWwnXSsnPC9sYWJlbD4nCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGZzID0gZnMgKyc8c2VsZWN0IGNsYXNzPSJmb3Jtb3B0aW9uIiBuYW1lPSInK3FbJ2lkJ10rJyIgaWQ9IicrcVsnaWQnXSsnIj4nCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHFbJ29wdGlvbnMnXS5sZW5ndGg7IGwrKykgewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzID0gZnMgKyc8b3B0aW9uIHZhbHVlPSInK3FbJ29wdGlvbnMnXVtsXVsndmFsdWUnXSsnIj4nK3FbJ29wdGlvbnMnXVtsXVsna2V5J10rJzwvb3B0aW9uPicKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgZnMgPSBmcyArJzwvc2VsZWN0Pjxicj4nCiAgICAvLyAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICBmcyA9IGZzICsgJzwvZmllbGRzZXQ+JwogICAgLy8gICAgICAgICAgICBmcz1mcysnICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlN1Ym1pdCI+IDwvZm9ybT4nCiAgICAvLyAgICAgICAgfQogICAgLy8gICAgICAgIGZzID0gZnMgKyAnPC9kaXY+JwogICAgLy8gICAgcmV0dXJuIGZzCiAgICAvL30KCgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoU3VydmV5KHRoaXMuaWQpOwogIH0KCn07"},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/Survey.vue"],"names":[],"mappings":"AAWA,eAAe;AACX,EAAA,IAAI,EAAE,QADK;AAEX,EAAA,KAAK,EAAE,CAAC,IAAD,CAFI;;AAGX,EAAA,IAAI,GAAG;AACH,WAAO;AACH,MAAA,QAAQ,EAAE,KADP;AAEH,MAAA,UAAU,EAAE,gDAFT;AAGH,MAAA,QAAQ,EAAE,EAHP;AAIH,MAAA,aAAa,EAAE;AAJZ,KAAP;AAMH,GAVU;;AAWX,EAAA,OAAO,EAAE;AACL,IAAA,WAAW,CAAC,EAAD,EAAK;AACZ,MAAA,OAAO,CAAC,GAAR,CAAY,sBAAZ;AACA,WAAK,QAAL,GAAgB,KAAhB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,qDAAZ,EAAmE,EAAnE;AACA,WAAK,QAAL,GAAgB,KAAK,UAAL,CAAgB,MAAhB,CAAuB,EAAvB,CAAhB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,eAAZ,EAA6B,KAAK,QAAlC;AACA,MAAA,KAAK,CAAC,KAAK,QAAN,EAAgB;AACjB,QAAA,MAAM,EAAE;AADS,OAAhB,CAAL,CAGC,IAHD,CAGO,QAAD,IAAc;AAChB,YAAI,QAAQ,CAAC,EAAb,EAAiB;AACb,iBAAO,QAAQ,CAAC,IAAT,EAAP;AACJ,SAFA,MAEO;AACH,gBAAM,IAAI,KAAJ,EAAN;AACJ;AACH,OATD,EAUC,IAVD,CAUO,MAAD,IAAY;AACd,aAAK,aAAL,GAAqB,MAArB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAK,aAAjB,EAFc,CAGd;AACH,OAdD,EAeC,KAfD,CAeO,MAAM,CAAE,CAff;AAgBH,KAvBI,CAwBL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA9DK,GAXE;;AA4Ef,EAAA,OAAO,GAAG;AACN,SAAK,WAAL,CAAiB,KAAK,EAAtB;AACH;;AA9Ec,CAAf","sourcesContent":["<template>\n    <div>\n        <h1>Survey: n{{ this.label}} </h1>\n        Survey content ...\n        <hr />\n        <p class=\"diagnostic\">{{ this.id }}</p>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Survey\",\n    props: [\"id\"],\n    data() {\n        return {\n            isLoaded: false,\n            surveyBase: \"https://esip-dev-02.edacnm.org/api/get_survey/\",\n            fetchURL: \"\",\n            surveyContent: {},\n        };\n    },\n    methods: {\n        fetchSurvey(id) {\n            console.log(\"entering fetchSurvey\");\n            this.isLoaded = false;\n            console.log(\"Trying to retrieve survey content for this survey: \", id);\n            this.fetchURL = this.surveyBase.concat(id);\n            console.log(\"Request URL: \", this.fetchURL);\n            fetch(this.fetchURL, {\n                method: \"GET\",\n            })\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error();\n                }\n            })\n            .then((result) => {\n                this.surveyContent = result;\n                console.log(this.surveyContent);\n                //console.log(obj2string(this.surveyContent));\n            })\n            .catch(() => {});\n        },\n        //broken\n        //obj2string(data){\n        //    fs = '<div class=\"formdiv\">'\n        //        fs = fs + '<h1 class=\"formheader\">' + data['label'] + '</h1>'\n        //        fs = fs + '<form action=\"'+server+'/api/submit_survey/'+uuid+'\" method=\"post\">'\n        //        fs = fs + '<input type=\"hidden\" id=\"submitterid\" name=\"submitter\" value=\"'+uuidv4()+'\">'    \n        //        for (var j = 0; j < data['question_groups'].length; j++) {\n        //            fs = fs + '<fieldset class=\"formfieldset\" ><legend>' + data['question_groups'][j]['label'] + '</legend>'\n        //                for (var k = 0; k < data['question_groups'][j]['questions'].length; k++) {\n        //                    q=data['question_groups'][j]['questions'][k]\n        //                    if (q['element']=='input'){\n        //                    \n        //                        if (q[\"input_type\"]==\"range\"){\n        //                            console.log(q[\"options\"][0]['key'])\n        //                            fs = fs + '<br><label class=\"formlabel\" for=\"'+q['id']+'\">'+q['label']+'</label><br>'\n        //                           // fs = fs + '<span><input class=\"forminput\" type=\"'+q['input_type']+'\" id=\"'+q['id']+'\" name=\"'+q['id']+'\" >''</span><br>'\n//\n        //                            fs = fs + '<span>'+q[\"options\"][0]['key']+'<input class=\"forminput\" type=\"'+q['input_type']+'\" id=\"'+q['id']+'\" name=\"'+q['id']+'\" min=\"'+q[\"options\"][0]['value']+'\" max=\"'+ q[\"options\"][1]['value']+'\" >'+q[\"options\"][1]['key']+'</span><br>'\n//\n        //                        }else{\n        //                            fs = fs + '<br><label class=\"formlabel\" for=\"'+q['id']+'\">'+q['label']+'</label><br>'\n        //                            fs = fs + '<input class=\"forminput\" type=\"'+q['input_type']+'\" id=\"'+q['id']+'\" name=\"'+q['id']+'\" ><br>'\n        //                        }\n        //                    }\n        //                    if (q['element']=='select'){\n        //                        fs = fs +'<br><label for=\"'+q['id']+'\">'+q['label']+'</label>'\n        //                        fs = fs +'<select class=\"formoption\" name=\"'+q['id']+'\" id=\"'+q['id']+'\">'\n        //                            for (var l = 0; l < q['options'].length; l++) {\n        //                                fs = fs +'<option value=\"'+q['options'][l]['value']+'\">'+q['options'][l]['key']+'</option>'\n        //                            }\n        //                        fs = fs +'</select><br>'\n        //                    }\n        //                }\n        //            fs = fs + '</fieldset>'\n        //            fs=fs+'   <input type=\"submit\" value=\"Submit\"> </form>'\n        //        }\n        //        fs = fs + '</div>'\n        //    return fs\n        //}\n\n},\ncreated() {\n    this.fetchSurvey(this.id);\n},\n\n\n};  \n</script >\n    .diagnostic {\n        font-size: xx-small;\n    }\n<style scoped></style>"],"sourceRoot":""}]}