{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/karl/Repos/dmtc-userinterface/ui/src/store/index.js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/store/index.js","mtime":1626389458534},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICJ2dWV4IjsKLy8gaW1wb3J0IHsgYXV0aCB9IGZyb20gIi4vYXV0aC5tb2R1bGUiOwovLyAKLy8gY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZSh7Ci8vIAltb2R1bGVzOiB7Ci8vIAkJYXV0aCwKLy8gCX0sCi8vIH0pOwovLyAKLy8gZXhwb3J0IGRlZmF1bHQgc3RvcmU7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvYXV0aC5zZXJ2aWNlJzsKaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3VzZXIuc2VydmljZSc7CmNvbnN0IGluaXRpYWxTdGF0ZSA9IHsKICB3b3JraW5nOiBmYWxzZSwKICB1c2VyOiB7CiAgICBsb2dnZWRJbjogZmFsc2UsCiAgICB1c2VybmFtZTogIiIKICB9LAogIGdyb3VwczogW10KfTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IGluaXRpYWxTdGF0ZSwKICBnZXR0ZXJzOiB7CiAgICBmdWxsU3RhdGU6IHN0YXRlID0+IHN0YXRlLAogICAgdXNlcjogc3RhdGUgPT4gc3RhdGUudXNlciwKICAgIGxvZ2dlZGluOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmxvZ2dlZEluLAogICAgdXNlcm5hbWU6IHN0YXRlID0+IHN0YXRlLnVzZXIudXNlcm5hbWUsCiAgICBncm91cHM6IHN0YXRlID0+IHN0YXRlLmdyb3VwcywKICAgIHdvcmtpbmc6IHN0YXRlID0+IHN0YXRlLndvcmtpbmcKICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luKHsKICAgICAgY29tbWl0CiAgICB9LCB1c2VyKSB7CiAgICAgIGNvbW1pdCgnc2V0V29ya2luZycsIHRydWUpOwogICAgICByZXR1cm4gQXV0aFNlcnZpY2UubG9naW4odXNlcikudGhlbihyZXN1bHQgPT4gewogICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnKTsKICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcm5hbWUnLCB1c2VyLnVzZXJuYW1lKTsKICAgICAgICAgIGNvbW1pdCgnc2V0V29ya2luZycsIGZhbHNlKTsKICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgICBjb21taXQoJ3NldFdvcmtpbmcnLCBmYWxzZSk7CiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICAgIH0KICAgICAgfSwgZXJyb3IgPT4gewogICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgY29tbWl0KCdzZXRXb3JraW5nJywgZmFsc2UpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSwKCiAgICBsb2dvdXQoewogICAgICBjb21taXQKICAgIH0pIHsKICAgICAgY29tbWl0KCdzZXRXb3JraW5nJywgdHJ1ZSk7CiAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICAgIGNvbW1pdCgnc2V0V29ya2luZycsIGZhbHNlKTsKICAgIH0sCgogICAgZ2V0R3JvdXBzKHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIGNvbW1pdCgnc2V0V29ya2luZycsIHRydWUpOwogICAgICByZXR1cm4gVXNlclNlcnZpY2UuZ2V0R3JvdXBzKCkudGhlbihyZXN1bHQgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgY29tbWl0KCdzZXRHcm91cHMnLCByZXN1bHQpOwogICAgICAgIGNvbW1pdCgnc2V0V29ya2luZycsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9CgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBsb2dpblN1Y2Nlc3Moc3RhdGUpIHsKICAgICAgc3RhdGUudXNlci5sb2dnZWRJbiA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTsKICAgIH0sCgogICAgbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXIubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlci51c2VybmFtZSA9IG51bGw7CiAgICAgIHN0YXRlLnVzZXIuZ3JvdXBzID0gW107CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTsKICAgIH0sCgogICAgbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXIubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlci51c2VybmFtZSA9IG51bGw7CiAgICAgIHN0YXRlLmdyb3VwcyA9IFtdOwogICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7CiAgICB9LAoKICAgIHNldFVzZXJuYW1lKHN0YXRlLCB1c2VybmFtZSkgewogICAgICBzdGF0ZS51c2VyLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTsKICAgIH0sCgogICAgc2V0R3JvdXBzKHN0YXRlLCBncm91cHMpIHsKICAgICAgc3RhdGUuZ3JvdXBzID0gZ3JvdXBzLmRhdGEuZ3JvdXBzOwogICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7CiAgICB9LAoKICAgIHNldFdvcmtpbmcoc3RhdGUsIHdvcmtpbmdTdGF0ZSkgewogICAgICBzdGF0ZS53b3JraW5nID0gd29ya2luZ1N0YXRlOwogICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7CiAgICB9CgogIH0KfSk7"},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/store/index.js"],"names":["Vuex","AuthService","UserService","initialState","working","user","loggedIn","username","groups","Store","namespaced","state","getters","fullState","loggedin","actions","login","commit","then","result","status","Promise","resolve","error","reject","logout","getGroups","console","log","mutations","loginSuccess","loginFailure","setUsername","setGroups","data","setWorking","workingState"],"mappings":"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","sourcesContent":["// import { createStore } from \"vuex\";\n// import { auth } from \"./auth.module\";\n// \n// const store = createStore({\n// \tmodules: {\n// \t\tauth,\n// \t},\n// });\n// \n// export default store;\n\nimport Vuex from \"vuex\";\nimport AuthService from '../services/auth.service';\nimport UserService from '../services/user.service';\n\nconst initialState = {\n\tworking: false,\n\tuser: {\n\t\tloggedIn: false,\n\t\tusername: \"\",\n\t},\n\tgroups: [],\t\n}\n\nexport default new Vuex.Store({\n\tnamespaced: true,\n\tstate: initialState,\n\tgetters: {\n\t\tfullState: state => state,\n\t\tuser: state => state.user,\n\t\tloggedin: state => state.user.loggedIn,\n\t\tusername: state => state.user.username,\n\t\tgroups: state => state.groups,\n\t\tworking: state => state.working,\n\t},\n\tactions: {\n\t\tlogin({ commit }, user) {\n\t\t\tcommit('setWorking', true);\n\t\t\treturn AuthService.login(user).then(\n\t\t\t\tresult => {\n\t\t\t\t\tif (result.status == \"success\") {\n\t\t\t\t\t\tcommit('loginSuccess');\n\t\t\t\t\t\tcommit('setUsername', user.username);\n\t\t\t\t\t\tcommit('setWorking', false);\n\t\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommit('loginFailure');\n\t\t\t\t\t\tcommit('setWorking', false);\n\t\t\t\t\t\treturn Promise.resolve(user);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tcommit('loginFailure');\n\t\t\t\t\tcommit('setWorking', false);\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tlogout({ commit }) {\n\t\t\tcommit('setWorking', true);\n\t\t\tcommit('logout');\n\t\t\tcommit('setWorking', false);\n\t\t},\n\t\tgetGroups({ commit }) {\n\t\t\tcommit('setWorking', true);\n\t\t\treturn UserService.getGroups().then(\n\t\t\t\tresult => {\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\tcommit('setGroups', result);\n\t\t\t\t\tcommit('setWorking', false);\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t},\n\tmutations: {\n\t\tloginSuccess(state) {\n\t\t\tstate.user.loggedIn = true;\n\t\t\tconsole.log(state);\n\t\t},\n\t\tloginFailure(state) {\n\t\t\tstate.user.loggedIn = false;\n\t\t\tstate.user.username = null;\n\t\t\tstate.user.groups = [];\n\t\t\tconsole.log(state)\n\t\t},\n\t\tlogout(state) {\n\t\t\tstate.user.loggedIn = false;\n\t\t\tstate.user.username = null;\n\t\t\tstate.groups = [];\n\t\t\tconsole.log(state)\n\t\t},\n\t\tsetUsername(state, username) {\n\t\t\tstate.user.username = username;\n\t\t\tconsole.log(state)\n\t\t},\n\t\tsetGroups (state, groups) {\n\t\t\tstate.groups = groups.data.groups;\n\t\t\tconsole.log(state)\n\t\t},\n\t\tsetWorking (state, workingState) {\n\t\t\tstate.working = workingState;\n\t\t\tconsole.log(state)\n\t\t}\n\t}\n});\n"]}]}