{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/Resource.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/Resource.vue","mtime":1626389458530},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlc3VsdEl0ZW0gZnJvbSAiLi9SZXN1bHRJdGVtLnZ1ZSI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNvdXJjZSIsCiAgY29tcG9uZW50czogewogICAgUmVzdWx0SXRlbQogIH0sCiAgcHJvcHM6IFsiaWQiXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vcmVzb3VyY2VJRDogIjMyMzM1YjE5LThlNmYtMzc3Mi1hYWNjLTEzNzlkNzAzMzBiYiIsCiAgICAgIGlzTG9hZGVkOiBmYWxzZSwKICAgICAgZmV0Y2hCYXNlOiAiaHR0cHM6Ly9lc2lwLWRldi0wMi5lZGFjbm0ub3JnL2FwaS9yZXNvdXJjZXMvP2lkPSIsCiAgICAgIHN1cnZleUJhc2U6ICJodHRwczovL2VzaXAtZGV2LTAyLmVkYWNubS5vcmcvYXBpL3N1cnZleXMvP3Jlc291cmNlaWQ9IiwKICAgICAgZmV0Y2hVUkw6ICIiLAogICAgICByZXNvdXJjZXM6IFtdLAogICAgICBzdXJ2ZXlzOiBbXSwKICAgICAgblJlc291cmNlczogMCwKICAgICAgaW5pdGlhbEZ1bGw6IHRydWUKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hJdGVtKHRoaXMuaWQpOwogICAgdGhpcy5mZXRjaFN1cnZleXModGhpcy5pZCk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIHJlc291cmNlczogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLm5SZXNvdXJjZXMgPSB0aGlzLnJlc291cmNlcy5sZW5ndGg7CiAgICB9CiAgfSwKICBjb21wdXRlZDogeyAuLi5tYXBHZXR0ZXJzKFsnbG9nZ2VkaW4nLCAndXNlcm5hbWUnLCAnZ3JvdXBzJ10pCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEl0ZW0oaWQpIHsKICAgICAgY29uc29sZS5sb2coImVudGVyaW5nIGZldGNoSXRlbSIpOwogICAgICB0aGlzLmlzTG9hZGVkID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCJUcnlpbmcgdG8gcmV0cmlldmUgcmVjb3JkIElEOiAiLCBpZCk7CiAgICAgIHRoaXMuZmV0Y2hVUkwgPSB0aGlzLmZldGNoQmFzZS5jb25jYXQoaWQpOwogICAgICBjb25zb2xlLmxvZygiUmVxdWVzdCBVUkw6ICIsIHRoaXMuZmV0Y2hVUkwpOwogICAgICBmZXRjaCh0aGlzLmZldGNoVVJMLCB7CiAgICAgICAgbWV0aG9kOiAiR0VUIgogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpOwogICAgICAgIH0KICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgIHRoaXMucmVzb3VyY2VzID0gcmVzdWx0WyJyZXN1bHRzIl07CiAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXNvdXJjZXMpOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzb3VyY2VzLmxlbmd0aCk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCgogICAgZmV0Y2hTdXJ2ZXlzKGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKCJlbnRlcmluZyBmZXRjaFN1cnZleXMiKTsKICAgICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZygiVHJ5aW5nIHRvIHJldHJpZXZlIHN1cnZleXMgZm9yIHJlY29yZCBJRDogIiwgaWQpOwogICAgICB0aGlzLmZldGNoVVJMID0gdGhpcy5zdXJ2ZXlCYXNlLmNvbmNhdChpZCk7CiAgICAgIGNvbnNvbGUubG9nKCJSZXF1ZXN0IFVSTDogIiwgdGhpcy5mZXRjaFVSTCk7CiAgICAgIGZldGNoKHRoaXMuZmV0Y2hVUkwsIHsKICAgICAgICBtZXRob2Q6ICJHRVQiCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7CiAgICAgICAgfQogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgdGhpcy5zdXJ2ZXlzID0gcmVzdWx0WyJzdXJ2ZXlzIl07CiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdXJ2ZXlzKTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN1cnZleXMubGVuZ3RoKTsKICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/Resource.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <span v-if=\"!loggedin\"><p><router-link :to=\"{ name: 'LoginTest' }\">Login</router-link> to access assessment and workflow capabilities for this resource.</p></span>\n    \n   <div class=\"container\">\n     <p>Available Assessment Surveys: </p>\n     <ul v-if=\"this.surveys.length > 0\">\n        <li v-for=\"(survey, index) in this.surveys\" :key=\"index\"><router-link :to=\"`/survey/${survey.id}`\"> {{ survey.label }} </router-link></li>\n     </ul>\n     <p v-else>No surveys are currently available for this learning resource</p>\n   </div>\n   \n   <div v-for=\"(item, index) in this.resources\" :key=\"item\">\n      <ResultItem\n        :index=\"index\"\n        :item=\"item\"\n        :nResources=\"nResources\"\n        :initialFull=\"initialFull\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ResultItem from \"./ResultItem.vue\";\nimport { mapGetters } from 'vuex';\n\n\nexport default {\n  name: \"Resource\",\n  components: { ResultItem },\n\n  props: [\"id\"],\n\n  data() {\n    return {\n      //resourceID: \"32335b19-8e6f-3772-aacc-1379d70330bb\",\n      isLoaded: false,\n      fetchBase: \"https://esip-dev-02.edacnm.org/api/resources/?id=\",\n      surveyBase: \"https://esip-dev-02.edacnm.org/api/surveys/?resourceid=\",\n      fetchURL: \"\",\n      resources: [],\n      surveys: [],\n      nResources: 0,\n      initialFull: true,\n    };\n  },\n\n  created() {\n    this.fetchItem(this.id);\n    this.fetchSurveys(this.id);\n  },\n\n  watch: {\n    resources: function () {\n      this.nResources = this.resources.length;\n    },\n  },\n  \n  computed: {\n    ...mapGetters([\n      'loggedin',\n      'username',\n      'groups'\n    ])\n    },\n\n  methods: {\n    fetchItem(id) {\n      console.log(\"entering fetchItem\");\n      this.isLoaded = false;\n      console.log(\"Trying to retrieve record ID: \", id);\n      this.fetchURL = this.fetchBase.concat(id);\n      console.log(\"Request URL: \", this.fetchURL);\n      fetch(this.fetchURL, {\n        method: \"GET\",\n      })\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            throw new Error();\n          }\n        })\n        .then((result) => {\n          this.resources = result[\"results\"];\n          console.log(this.resources);\n          console.log(this.resources.length);\n        })\n        .catch(() => {});\n    },\n    fetchSurveys(id) {\n      console.log(\"entering fetchSurveys\");\n      this.isLoaded = false;\n      console.log(\"Trying to retrieve surveys for record ID: \", id);\n      this.fetchURL = this.surveyBase.concat(id);\n      console.log(\"Request URL: \", this.fetchURL);\n      fetch(this.fetchURL, {\n        method: \"GET\",\n      })\n        .then((response) => {\n          if (response.ok) {\n              return response.json();\n            } else {\n              throw new Error();\n            }\n          })\n          .then((result) => {\n            this.surveys = result[\"surveys\"];\n            console.log(this.surveys);\n            console.log(this.surveys.length);\n          })\n          .catch(() => {});\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}