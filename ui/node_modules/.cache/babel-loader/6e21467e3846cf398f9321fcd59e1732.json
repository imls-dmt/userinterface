{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/Search.vue?vue&type=template&id=7cb41050&scoped=true","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/Search.vue","mtime":1622660830143},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgdk1vZGVsU2VsZWN0IGFzIF92TW9kZWxTZWxlY3QsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCmNvbnN0IF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtN2NiNDEwNTAiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTdjYjQxMDUwIik7Cgpjb25zdCBfaG9pc3RlZF8xID0gewogIGtleTogMCwKICBjbGFzczogImVycm9yIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGtleTogMQp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiZmlsdGVyLXNlYXJjaC1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJmaWx0ZXJzLWNvbnRhaW5lciIKfTsKCmNvbnN0IF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJsYWJlbCIKfSwgIkZpbHRlcnMiLCAtMQovKiBIT0lTVEVEICovCik7Cgpjb25zdCBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaHIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgpjb25zdCBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAicmVzdWx0cy1jb250YWluZXIiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJyZXN1bHRzLWhlYWRlciIKfTsKCmNvbnN0IF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzcGFuIiwgewogIGNsYXNzOiAibGFiZWwiCn0sICJTZWFyY2ggUmVzdWx0czoiLCAtMQovKiBIT0lTVEVEICovCik7Cgpjb25zdCBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogInBhZ2luYXRpb24iCn07Cgpjb25zdCBfaG9pc3RlZF8xMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImIiLCBudWxsLCAiSXRlbXMgcGVyIHBhZ2U6ICIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmNvbnN0IF9ob2lzdGVkXzEyID0gewogIGlkOiAidi1tb2RlbC1zZWxlY3QiCn07Cgpjb25zdCBfaG9pc3RlZF8xMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoIm9wdGlvbiIsIG51bGwsICIxMCIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmNvbnN0IF9ob2lzdGVkXzE0ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgib3B0aW9uIiwgbnVsbCwgIjIwIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKY29uc3QgX2hvaXN0ZWRfMTUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJvcHRpb24iLCBudWxsLCAiMzAiLCAtMQovKiBIT0lTVEVEICovCik7Cgpjb25zdCBfaG9pc3RlZF8xNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBjbGFzczogInNvcnRieSIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImIiLCBudWxsLCAiU29ydCBCeToiKSwgLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiBMYXRlc3QgRmlyc3QiKV0sIC0xCi8qIEhPSVNURUQgKi8KKTsKCmNvbnN0IF9ob2lzdGVkXzE3ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaHIiLCBudWxsLCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IGNvbnN0IHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpID0+IHsKICBjb25zdCBfY29tcG9uZW50X1NlYXJjaEJhciA9IF9yZXNvbHZlQ29tcG9uZW50KCJTZWFyY2hCYXIiKTsKCiAgY29uc3QgX2NvbXBvbmVudF9GaWx0ZXJJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIkZpbHRlckl0ZW0iKTsKCiAgY29uc3QgX2NvbXBvbmVudF9SZXN1bHRJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIlJlc3VsdEl0ZW0iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2VhcmNoQmFyLCB7CiAgICB2YWx1ZV9pbjogJGRhdGEucXVpY2tfc2VhcmNoX3N0cmluZywKICAgIG9uVmFsdWVfb3V0OiAkb3B0aW9ucy51cGRhdGVSZXN1bHRzCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInZhbHVlX2luIiwgIm9uVmFsdWVfb3V0Il0pLCAkZGF0YS5lcnJvciA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgIlNvcnJ5LCB1bmFibGUgdG8gcXVlcnkgc2VydmVyISIpKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2XG4gICAgICAgICAgICB2LWZvcj1cImZpbHRlciBpbiBmaWx0ZXJzX3NlbGVjdGVkXCJcbiAgICAgICAgICAgIDprZXk9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgY2xhc3M9XCJmaWx0ZXJzLXNlbGVjdGVkLWNvbnRhaW5lclwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgdi1mb3I9XCJzZWxlY3RlZCBpbiBmaWx0ZXJcIiA6a2V5PVwic2VsZWN0ZWRcIj5cbiAgICAgICAgICAgICAgICB7eyBzZWxlY3RlZCB9fSAmbmJzcDsgWFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PiAiKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2hvaXN0ZWRfNSwgX2hvaXN0ZWRfNiwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmZpbHRlcnMsIGZpbHRlciA9PiB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAga2V5OiBmaWx0ZXIKICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9GaWx0ZXJJdGVtLCB7CiAgICAgIGZpbHRlcjogZmlsdGVyLAogICAgICBzZWxlY3RlZF9pbjogJGRhdGEuZmlsdGVyc19zZWxlY3RlZFtmaWx0ZXIua2V5XSwKICAgICAgb25TZWxlY3RlZF9vdXQ6ICRvcHRpb25zLmZpbHRlclVwZGF0ZWQKICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsiZmlsdGVyIiwgInNlbGVjdGVkX2luIiwgIm9uU2VsZWN0ZWRfb3V0Il0pXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCBbX2hvaXN0ZWRfOSwgX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkZGF0YS5zZWFyY2hfcmVzdWx0WyJoaXRzLXRvdGFsIl0pLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gJG9wdGlvbnMuZ290b1BhZ2UoJ2ZpcnN0JykpLAogICAgZGlzYWJsZWQ6ICRkYXRhLm5vX3ByZXYKICB9LCAiIDw8ICIsIDgKICAvKiBQUk9QUyAqLwogICwgWyJkaXNhYmxlZCJdKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiAkb3B0aW9ucy5nb3RvUGFnZSgncHJldicpKSwKICAgIGRpc2FibGVkOiAkZGF0YS5ub19wcmV2CiAgfSwgIiA8ICIsIDgKICAvKiBQUk9QUyAqLwogICwgWyJkaXNhYmxlZCJdKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICRldmVudCA9PiAkb3B0aW9ucy5nb3RvUGFnZSgnbmV4dCcpKSwKICAgIGRpc2FibGVkOiAkZGF0YS5ub19uZXh0CiAgfSwgIiA+ICIsIDgKICAvKiBQUk9QUyAqLwogICwgWyJkaXNhYmxlZCJdKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9ICRldmVudCA9PiAkb3B0aW9ucy5nb3RvUGFnZSgnbGFzdCcpKSwKICAgIGRpc2FibGVkOiAkZGF0YS5ub19uZXh0CiAgfSwgIiA+PiAiLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiZGlzYWJsZWQiXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCBbX2hvaXN0ZWRfMTEsIF9jcmVhdGVWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzEyLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgic2VsZWN0IiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9ICRldmVudCA9PiAkZGF0YS5pdGVtc19wZXJfcGFnZSA9ICRldmVudCksCiAgICBvbkNoYW5nZTogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSAoLi4uYXJncykgPT4gJG9wdGlvbnMuY2hhbmdlSXRlbXNQZXJQYWdlICYmICRvcHRpb25zLmNoYW5nZUl0ZW1zUGVyUGFnZSguLi5hcmdzKSkKICB9LCBbX2hvaXN0ZWRfMTMsIF9ob2lzdGVkXzE0LCBfaG9pc3RlZF8xNV0sIDU0NAogIC8qIEhZRFJBVEVfRVZFTlRTLCBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsU2VsZWN0LCAkZGF0YS5pdGVtc19wZXJfcGFnZV1dKV0pXSldKSwgX2hvaXN0ZWRfMTYsIF9ob2lzdGVkXzE3LCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuc2VhcmNoX3Jlc3VsdC5yZXN1bHRzLCAoaXRlbSwgaW5kZXgpID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgewogICAgICBrZXk6IGl0ZW0KICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9SZXN1bHRJdGVtLCB7CiAgICAgIGluZGV4OiAkZGF0YS5zdGFydF9pbmRleCArIGluZGV4LAogICAgICBpdGVtOiBpdGVtCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbImluZGV4IiwgIml0ZW0iXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSldKSldKTsKfSk7"},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/Search.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <SearchBar\n      :value_in=\"quick_search_string\"\n      @value_out=\"updateResults\"\n    ></SearchBar>\n\n    <div v-if=\"error\" class=\"error\">Sorry, unable to query server!</div>\n    <div v-else>\n      <!-- <div\n            v-for=\"filter in filters_selected\"\n            :key=\"filter\"\n            class=\"filters-selected-container\"\n        >\n            <div v-for=\"selected in filter\" :key=\"selected\">\n                {{ selected }} &nbsp; X\n            </div>\n        </div> -->\n      <div class=\"filter-search-container\">\n        <div class=\"filters-container\">\n          <div class=\"label\">Filters</div>\n          <hr />\n          <div v-for=\"filter in filters\" :key=\"filter\">\n            <FilterItem\n              :filter=\"filter\"\n              :selected_in=\"filters_selected[filter.key]\"\n              @selected_out=\"filterUpdated\"\n            ></FilterItem>\n          </div>\n        </div>\n        <div class=\"results-container\">\n          <div class=\"results-header\">\n            <div>\n              <span class=\"label\">Search Results:</span>\n              <span>{{ search_result[\"hits-total\"] }}</span>\n            </div>\n            <div class=\"pagination\">\n              <button @click=\"gotoPage('first')\" :disabled=\"no_prev\">\n                &lt;&lt;\n              </button>\n              <button @click=\"gotoPage('prev')\" :disabled=\"no_prev\">\n                &lt;\n              </button>\n              <button @click=\"gotoPage('next')\" :disabled=\"no_next\">\n                &gt;\n              </button>\n              <button @click=\"gotoPage('last')\" :disabled=\"no_next\">\n                &gt;&gt;\n              </button>\n            </div>\n            <div>\n              <b>Items per page: </b>\n              <span id=\"v-model-select\">\n                <select v-model=\"items_per_page\" @change=\"changeItemsPerPage\">\n                  <option>10</option>\n                  <option>20</option>\n                  <option>30</option>\n                </select>\n              </span>\n            </div>\n          </div>\n          <div class=\"sortby\"><b>Sort By:</b> Latest First</div>\n          <hr />\n          <div v-for=\"(item, index) in search_result.results\" :key=\"item\">\n            <ResultItem :index=\"start_index + index\" :item=\"item\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FilterItem from \"./FilterItem.vue\";\nimport ResultItem from \"./ResultItem.vue\";\nimport SearchBar from \"./SearchBar.vue\";\n\nexport default {\n  name: \"Search\",\n  error: \"\",\n\n  components: { FilterItem, ResultItem, SearchBar },\n\n  data() {\n    return {\n      error: false,\n      current_page: 1,\n      facet_names: {\n        keywords: [\"Keywords\", \"show\"],\n        \"author_org.name\": [\"Author Organization(s)\", \"show\"], // has bug showing incorrect values corresponding with org name\n        author_names: [\"Authoring Person(s) Names\", \"show\"], // question of whether this should be hidden\n        language_primary: [\"Original Languages\", \"show\"],\n        languages_secondary: [\"Additional Languages\", \"show\"],\n        target_audience: [\"Target Audiences\", \"show\"],\n        access_cost: [\"Access Cost\", \"show\"],\n        license: [\"License\", \"show\"],\n        \"accessibility_features.name\": [\"Accessibility Features\", \"show\"],\n        subject: [\"Subject Discipline\", \"show\"],\n        media_type: [\"Media Type\", \"show\"],\n        lr_type: [\"Learning Resource Type\", \"show\"],\n        purpose: [\"Educational Purpose\", \"show\"],\n        \"ed_frameworks.name\": [\"Educational Frameworks\", \"show\"], // uncomment this line when ed_frameworks key issue is resolved in API\n      },\n      filters: [],\n      filters_selected: {},\n      items_per_page: 10,\n      no_next: false,\n      no_prev: true,\n      num_pages: 0,\n      offset: 0,\n      quick_search_string: \"\",\n      search_result: [],\n      sort_str: \"score desc\",\n      start_index: 1,\n      is_full: false,\n    };\n  },\n\n  methods: {\n    changeItemsPerPage() {\n      // console.log(\"changeItemsPerPage: \", this.items_per_page);\n      // items_per_page becomes a string after user change the value so\n      // need to force it back to int here\n      this.items_per_page = parseInt(this.items_per_page);\n      // console.log(\"items_per_page 2 = \", this.items_per_page);\n      this.getSearchResults();\n    },\n\n    doClear() {\n      this.quick_search_string = \"\";\n      this.filters_selected = {};\n      this.getSearchResults();\n    },\n\n    filterUpdated(data) {\n      // console.log(\"filterUpdated!\", data);\n      // console.log(\"data key = \", data.key);\n      // console.log(\"data options = \", data.selected_options);\n      // this.filters_selected = {};\n      if (data) {\n        // console.log(\"data : \", data);\n        // console.log(\"filters_selected 1 : \", this.filters_selected);\n        this.filters_selected[data.key] = data.selected_options;\n        // console.log(\"filters_selected 2 : \", this.filters_selected);\n      }\n\n      this.updatePagination(1, 0);\n      this.getSearchResults();\n    },\n\n    getSearchResults() {\n      //console.log(\"entered getSearchResults()\");\n      // console.log(\"quick_search_string = \", this.quick_search_string);\n\n      this.error = false;\n      let body = this.setupPostContent();\n      this.$currentSearch = body;\n      this.$searchHistory.unshift(body);\n      //console.log(\"body: \", body);\n      //console.log(\"currentSearch: \", this.$currentSearch);\n      //console.log(\"searchHistory: \", this.$searchHistory);\n\n      fetch(\"https://esip-dev-02.edacnm.org/api/resources/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(body),\n      })\n        .then((response) => {\n          if (response.ok) {\n            // DO NOT do anything to the response, including console.log\n            // or else it will cause an error that response is \"disturbed\"\n            return response.json();\n          } else {\n            throw new Error();\n          }\n        })\n        .then((result) => {\n          this.isLoading = false;\n          // console.log(\"result :\", result);\n          this.search_result = result;\n          this.filters = this.setupFilters(result.facets);\n          // console.log(\"search_result :\", this.search_result);\n        })\n        .catch(() => {\n          this.error = true;\n        });\n    },\n\n    gotoPage(page) {\n      // console.log(\"page = \", page);\n      // console.log(\"hits total = \", this.search_result[\"hits-total\"]);\n      // console.log(\"offset = \", this.offset);\n      // console.log(\"items_per_page = \", parseInt(this.items_per_page));\n      let offset = 0,\n        start = 1;\n\n      if (page == \"first\") {\n        offset = 0;\n        start = 1;\n      } else if (page == \"next\") {\n        offset = this.offset + this.items_per_page;\n        start = this.start_index + this.items_per_page;\n      } else if (page == \"prev\") {\n        offset = this.offset - this.items_per_page;\n        start = this.start_index - this.items_per_page;\n      } else if (page == \"last\") {\n        offset = this.search_result[\"hits-total\"] - this.items_per_page;\n        start = this.search_result[\"hits-total\"] - this.items_per_page + 1;\n      }\n\n      this.updatePagination(start, offset);\n      this.getSearchResults();\n    },\n\n    setupFilters(result_filters) {\n      // console.log(\"setupFilters: \", result_filters);\n      // console.log(\"keywords : \", result_filters[\"keywords\"]);\n      //console.log(\"1 facet_names\", this.facet_names);\n      const keys = Object.keys(this.facet_names);\n      // console.log(\"keys = \", keys);\n      let filters = [];\n      // console.log(\"filters 1\", this.filters);\n      keys.forEach((key) => {\n        // console.log(\"key = \", key);\n        let value = this.facet_names[key];\n        // console.log(\"value : \", value);\n        if (value[1] === \"show\") {\n          // console.log(\"show \", key);\n          if (result_filters[key]) {\n            filters.push({\n              key: key,\n              title: value[0],\n              options: result_filters[key],\n            });\n          }\n        }\n      });\n      // console.log(\"Search filters : \", filters);\n      return filters;\n    },\n\n    // Gather the post body information\n    setupPostContent() {\n      let post_content = { search: [] };\n      post_content.limit = this.items_per_page;\n      post_content.offset = this.offset;\n      post_content.sort_str = this.sort_str;\n      //console.log(\"xquick_search_string = \", this.quick_search_string);\n\n      if (this.quick_search_string.length > 0) {\n        post_content.search.push({\n          group: \"and\",\n          and: [],\n          or: [\n            {\n              field: \"keywords\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n            {\n              field: \"abstract_data\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n            {\n              field: \"title\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n            {\n              field: \"locator_data\",\n              string: this.quick_search_string,\n              type: \"match\",\n            },\n            {\n              field: \"authors.familyName\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n            {\n              field: \"authors.givenName\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n            {\n              field: \"target_audience\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n            {\n              field: \"author_org.name\",\n              string: this.quick_search_string,\n              type: \"simple\",\n            },\n          ],\n        });\n      } else {\n        // console.log(\"in else!\");\n        // simple search\n        post_content.search.push({\n          group: \"and\",\n          and: [],\n          or: [{ field: \"id\", string: \"*\", type: \"simple\" }],\n        });\n        // post_content.search.push({\n        //     group: \"and\",\n        //     and: [\n        //         {\n        //             field: \"keywords\",\n        //             string: \"Access rights\",\n        //             type: \"match\",\n        //         },\n        //     ],\n        // });\n      }\n\n      // Karl's original status section\n      post_content.search.push({\n        group: \"and\",\n        and: [\n          {\n            field: \"status\",\n            string: \"true\",\n            type: \"simple\",\n          },\n        ],\n      });\n\n      let keys = Object.keys(this.filters_selected);\n      // console.log(\"keys : \", keys);\n      // console.log(\"filters_selected: \", this.filters_selected);\n      // console.log(\"length = \", this.filters_selected.length);\n      // console.log(\"yfilters_selected: \", this.filters_selected);\n      // Now add the facet selections\n      // if (this.filters_selected) {\n      if (keys.length > 0) {\n        // let query_array = {\n        //     group: \"and\",\n        //     and: {\n        //         field: this.filters_selected.key,\n        //         string: this.filters_selected.value,\n        //         type: \"match\",\n        //     },\n        // };\n        // console.log(\"query_array 2: \", query_array);\n        // console.log(\"filters_selected : \", this.filters_selected);\n\n        let filters = [];\n        let values = [];\n\n        keys.forEach((key) => {\n          // console.log(\"key = \", key);\n          values = this.filters_selected[key];\n          // console.log(\"values : \", values);\n          for (let i = 0; i < values.length; i++) {\n            filters.push({\n              field: key,\n              string: values[i],\n              type: \"match\",\n            });\n          }\n        });\n\n        // console.log(\"filters : \", filters);\n\n        // post_content.search.push({\n        //     group: \"and\",\n        //     and: [\n        //         {\n        //             field: this.filters_selected[0].key,\n        //             string: this.filters_selected[0].value,\n        //             type: \"match\",\n        //         },\n        //     ],\n        // });\n\n        post_content.search.push({\n          group: \"and\",\n          and: filters,\n        });\n      }\n\n      // console.log(\"post_content = \", post_content);\n\n      return post_content;\n    },\n\n    updatePagination(start, offset) {\n      if (start <= 1) this.no_prev = true;\n      else this.no_prev = false;\n\n      if (start >= this.search_result[\"hits-total\"] - this.items_per_page)\n        this.no_next = true;\n      else this.no_next = false;\n\n      this.offset = offset;\n      this.start_index = start;\n    },\n\n    updateResults(data) {\n      // console.log(\"Search.updateResults()\");\n      // console.log(\"data = \", data);\n      this.quick_search_string = data;\n      this.getSearchResults();\n    },\n  },\n\n  beforeMount() {\n    // console.log(\"Search.beforeMount()\");\n    if (this.$route.params && this.$route.params[\"search_string\"])\n      this.quick_search_string = this.$route.params.search_string;\n    // console.log(\"quick_search_string = \", this.quick_search_string);\n  },\n\n  // Lifecycle functions, see\n  // https://v3.vuejs.org/guide/instance.html#lifecycle-diagram for more info\n  mounted() {\n    // console.log(\"Search.mounted\");\n    // console.log(\"quick_search_string = \", this.quick_search_string);\n    this.getSearchResults();\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.error {\n  font-weight: bold;\n  text-align: center;\n}\n\n.filter-search-container {\n  display: flex;\n  justify-content: center;\n  margin: auto;\n  width: 85%;\n}\n\n.filters-container {\n  padding-right: 1em;\n  width: 25%;\n}\n\n.filters-selected-container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin: auto;\n  width: 85%;\n}\n\n.label {\n  font-size: larger;\n  font-weight: bold;\n  padding: 0px 0.5em;\n}\n\n.pagination {\n  flex-grow: 8;\n}\n\n.results-container {\n  width: 70%;\n}\n\n.results-header {\n  display: flex;\n  text-align: center;\n}\n\n.search-container {\n  display: flex;\n  width: 90%;\n}\n\n.sortby {\n  font-size: smaller;\n  padding-left: 1em;\n}\n</style>\n"],"sourceRoot":""}]}