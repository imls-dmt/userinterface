{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/BlogContentBlock.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/BlogContentBlock.vue","mtime":1626389458526},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gTWFya2Vkb3duIGNvbXBvbmVudCBmcm9tIGh0dHBzOi8vdnVlanNleGFtcGxlcy5jb20vYS12dWUtMy1tYXJrZG93bi1pdC13cmFwcGVyLXBsdWdpbi8KaW1wb3J0IFZ1ZU1hcmtkb3duSXQgZnJvbSAidnVlMy1tYXJrZG93bi1pdCI7IC8vIGNvbnN0IHVybF9yb290ID0gImh0dHA6Ly9zdGF0aWMuZG10Yy1kZXZlbC5vcmcvIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQmxvZ0NvbnRlbnRCbG9jayIsCiAgcHJvcHM6IHsKICAgIGJsb2NrOiB7fQogIH0sCiAgY29tcG9uZW50czogewogICAgVnVlTWFya2Rvd25JdAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZW50OiAiIiwKICAgICAgaXNMb2FkZWQ6IGZhbHNlCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE1EQ29udGVudCgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldE1EQ29udGVudCgpIHsKICAgICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlOyAvLyBjb25zb2xlLmxvZygiYmxvY2sgOiAiLCB0aGlzLmJsb2NrKTsKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmJsb2NrLmNvbnRlbnQpOwoKICAgICAgaWYgKHRoaXMuYmxvY2suY29udGVudC5zdGFydHNXaXRoKCJodHRwIikpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygiaWYuLi4iKTsKICAgICAgICAvLyBmZXRjaCh1cmxfcm9vdCArIHRoaXMuYmxvY2suY29udGVudCwgewogICAgICAgIGZldGNoKHRoaXMuYmxvY2suY29udGVudCwgewogICAgICAgICAgbWV0aG9kOiAiR0VUIiAvLyBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIgfSwKICAgICAgICAgIC8vIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLAoKICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAvLyBETyBOT1QgZG8gYW55dGhpbmcgdG8gdGhlIHJlc3BvbnNlLCBpbmNsdWRpbmcgY29uc29sZS5sb2cKICAgICAgICAgICAgLy8gb3IgZWxzZSBpdCB3aWxsIGNhdXNlIGFuIGVycm9yIHRoYXQgcmVzcG9uc2UgaXMgImRpc3R1cmJlZCIKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpOwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgIHRoaXMuY29udGVudCA9IHJlc3VsdDsKICAgICAgICAgIHRoaXMuaXNMb2FkZWQgPSB0cnVlOwogICAgICAgIH0pLmNhdGNoKCgpID0+IHsvL3RoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuYmxvY2suY29udGVudDsKICAgICAgICB0aGlzLmlzTG9hZGVkID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/BlogContentBlock.vue"],"names":[],"mappings":"AAQA;AACA,OAAO,aAAP,MAA0B,kBAA1B,C,CAEA;;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,kBADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AADF,GAFM;AAMb,EAAA,UAAU,EAAE;AAAE,IAAA;AAAF,GANC;;AAQb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,OAAO,EAAE,EADJ;AAEL,MAAA,QAAQ,EAAE;AAFL,KAAP;AAID,GAbY;;AAeb,EAAA,OAAO,GAAG;AACR,SAAK,YAAL;AACD,GAjBY;;AAmBb,EAAA,OAAO,EAAE;AACP,IAAA,YAAY,GAAG;AACb,WAAK,QAAL,GAAgB,KAAhB,CADa,CAEb;AACA;;AACA,UAAI,KAAK,KAAL,CAAW,OAAX,CAAmB,UAAnB,CAA8B,MAA9B,CAAJ,EAA2C;AACzC;AACA;AACA,QAAA,KAAK,CAAC,KAAK,KAAL,CAAW,OAAZ,EAAqB;AACxB,UAAA,MAAM,EAAE,KADgB,CAExB;AACA;;AAHwB,SAArB,CAAL,CAKG,IALH,CAKS,QAAD,IAAc;AAClB,cAAI,QAAQ,CAAC,EAAb,EAAiB;AACf;AACA;AACA,mBAAO,QAAQ,CAAC,IAAT,EAAP;AACF,WAJA,MAIO;AACL,kBAAM,IAAI,KAAJ,EAAN;AACF;AACD,SAbH,EAcG,IAdH,CAcS,MAAD,IAAY;AAChB,eAAK,OAAL,GAAe,MAAf;AACA,eAAK,QAAL,GAAgB,IAAhB;AACD,SAjBH,EAkBG,KAlBH,CAkBS,MAAM,CACX;AACD,SApBH;AAqBF,OAxBA,MAwBO;AACL,aAAK,OAAL,GAAe,KAAK,KAAL,CAAW,OAA1B;AACA,aAAK,QAAL,GAAgB,IAAhB;AACF;AACD;;AAjCM;AAnBI,CAAf","sourcesContent":["<template>\n  <div v-if=\"isLoaded\" class=\"blog-content\">\n    <VueMarkdownIt :source=\"content\" />\n  </div>\n  <div v-else>{{ block.title }} (loading content...)</div>\n</template>\n\n<script>\n// Markedown component from https://vuejsexamples.com/a-vue-3-markdown-it-wrapper-plugin/\nimport VueMarkdownIt from \"vue3-markdown-it\";\n\n// const url_root = \"http://static.dmtc-devel.org/\";\n\nexport default {\n  name: \"BlogContentBlock\",\n  props: {\n    block: {},\n  },\n\n  components: { VueMarkdownIt },\n\n  data() {\n    return {\n      content: \"\",\n      isLoaded: false,\n    };\n  },\n\n  mounted() {\n    this.getMDContent();\n  },\n\n  methods: {\n    getMDContent() {\n      this.isLoaded = false;\n      // console.log(\"block : \", this.block);\n      //console.log(this.block.content);\n      if (this.block.content.startsWith(\"http\")) {\n        // console.log(\"if...\");\n        // fetch(url_root + this.block.content, {\n        fetch(this.block.content, {\n          method: \"GET\",\n          // headers: { \"Content-Type\": \"application/json\" },\n          // body: JSON.stringify(body),\n        })\n          .then((response) => {\n            if (response.ok) {\n              // DO NOT do anything to the response, including console.log\n              // or else it will cause an error that response is \"disturbed\"\n              return response.text();\n            } else {\n              throw new Error();\n            }\n          })\n          .then((result) => {\n            this.content = result;\n            this.isLoaded = true;\n          })\n          .catch(() => {\n            //this.error = true;\n          });\n      } else {\n        this.content = this.block.content;\n        this.isLoaded = true;\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped></style>\n"],"sourceRoot":""}]}