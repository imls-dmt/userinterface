{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/FilterItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/FilterItem.vue","mtime":1622660830268},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gRnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWVpa2lkZC9pc28tNjM5LTEKaW1wb3J0IElTTzYzOTEgZnJvbSAiaXNvLTYzOS0xIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbImZpbHRlciIsICJzZWxlY3RlZF9pbiJdLAogIGVtaXRzOiBbInNlbGVjdGVkX291dCJdLAogIG5hbWU6ICJGaWx0ZXJJdGVtIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIiwKICAgICAgb3B0aW9uc19zZWxlY3RlZDogW10gLy8gbmV3X2ZpbHRlcjogIiIsCgogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuc2VsZWN0ZWRfaW4pIHsKICAgICAgLy8gY29uc29sZS5sb2coIkZpbHRlckl0ZW0gbW91bnRlZCBmaWx0ZXIgPSAiLCB0aGlzLmZpbHRlcik7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJGaWx0ZXJJdGVtIG1vdW50ZWQgc2VsZWN0ZWRfaW4gPSAiLCB0aGlzLnNlbGVjdGVkX2luKTsKICAgICAgLy8gY29uc29sZS5sb2coIm9wdGlvbnNfc2VsZWN0ZWQgMSA6IiwgdGhpcy5vcHRpb25zX3NlbGVjdGVkKTsKICAgICAgdGhpcy5vcHRpb25zX3NlbGVjdGVkID0gdGhpcy5zZWxlY3RlZF9pbjsgLy8gY29uc29sZS5sb2coIm9wdGlvbnNfc2VsZWN0ZWQgMiA6IiwgdGhpcy5vcHRpb25zX3NlbGVjdGVkKTsKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgZGlzcGxheSgpIHsKICAgICAgLy8gY29uc29sZS5sb2coImRpc3BsYXkhIik7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJmaWx0ZXIub3B0aW9ucyA6ICIsIHRoaXMuZmlsdGVyLm9wdGlvbnMpOwogICAgICBpZiAodGhpcy5maWx0ZXIub3B0aW9ucyAmJiBPYmplY3Qua2V5cyh0aGlzLmZpbHRlci5vcHRpb25zKS5sZW5ndGggPiAwKSByZXR1cm4gdHJ1ZTtlbHNlIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgaXNfb3BlbigpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfaW4gJiYgdGhpcy5zZWxlY3RlZF9pbi5sZW5ndGggPiAwKSByZXR1cm4gdHJ1ZTtlbHNlIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgdG90YWwoKSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmZpbHRlci5vcHRpb25zKS5sZW5ndGg7CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgYmFja2dyb3VuZChpbmRleCkgewogICAgICBpZiAoaW5kZXggJSAyID09IDApIHJldHVybiAic3RyaXBlZCI7ZWxzZSByZXR1cm4gbnVsbDsKICAgIH0sCgogICAgZ2V0TGFuZ3VhZ2UoY29kZSkgewogICAgICByZXR1cm4gSVNPNjM5MS5nZXROYW1lKGNvZGUpOwogICAgfSwKCiAgICBpc19zZWxlY3RlZChvcHRpb24pIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfaW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pbi5pbmNsdWRlcyhvcHRpb24pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBzYXZlT3B0aW9uKGRhdGEpIHsKICAgICAgLy8gY29uc29sZS5sb2coInNhdmVPcHRpb24gOiAiLCBkYXRhKTsKICAgICAgLy8gY29uc29sZS5sb2coImNoZWNrZWQgPyAiLCBldmVudC50YXJnZXQuY2hlY2tlZCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJvcHRpb25zX3NlbGVjdGVkIDogIiwgdGhpcy5vcHRpb25zX3NlbGVjdGVkKTsKICAgICAgLy8gY29uc29sZS5sb2coInRoaXMgOiAiLCB0aGlzKTsKICAgICAgLy8gY29uc29sZS5sb2coIm9wdGlvbnNfc2VsZWN0ZWQgOiAiLCB0aGlzLm9wdGlvbnNfc2VsZWN0ZWQpOwogICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gdHJ1ZSkgdGhpcy5vcHRpb25zX3NlbGVjdGVkLnB1c2goZGF0YSk7ZWxzZSB7CiAgICAgICAgLy8gaHR0cHM6Ly9sb3ZlMmRldi5jb20vYmxvZy9qYXZhc2NyaXB0LXJlbW92ZS1mcm9tLWFycmF5LwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zX3NlbGVjdGVkLmxlbmd0aDsgaSsrKSBpZiAodGhpcy5vcHRpb25zX3NlbGVjdGVkW2ldID09IGRhdGEpIHRoaXMub3B0aW9uc19zZWxlY3RlZC5zcGxpY2UoaSwgMSk7CiAgICAgIH0gLy8gY29uc29sZS5sb2coIm9wdGlvbnNfc2VsZWN0ZWQ6ICIsIHRoaXMub3B0aW9uc19zZWxlY3RlZCk7CgogICAgICBpZiAodGhpcy5vcHRpb25zX3NlbGVjdGVkLmxlbmd0aCA+IDApIHRoaXMuJGVtaXQoInNlbGVjdGVkX291dCIsIHsKICAgICAgICBrZXk6IHRoaXMuZmlsdGVyLmtleSwKICAgICAgICBzZWxlY3RlZF9vcHRpb25zOiB0aGlzLm9wdGlvbnNfc2VsZWN0ZWQgLy8gaXNfc2VsZWN0ZWQ6IGV2ZW50LnRhcmdldC5jaGVja2VkLAoKICAgICAgfSk7ZWxzZSB0aGlzLiRlbWl0KCJzZWxlY3RlZF9vdXQiLCBudWxsKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/FilterItem.vue"],"names":[],"mappings":"AA+DA;AACA,OAAO,OAAP,MAAoB,WAApB;AAEA,eAAe;AACX,EAAA,KAAK,EAAE,CAAC,QAAD,EAAW,aAAX,CADI;AAEX,EAAA,KAAK,EAAE,CAAC,cAAD,CAFI;AAIX,EAAA,IAAI,EAAE,YAJK;;AAMX,EAAA,IAAI,GAAG;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,gBAAgB,EAAE,EAFf,CAGH;;AAHG,KAAP;AAKH,GAZU;;AAcX,EAAA,OAAO,GAAG;AACN,QAAI,KAAK,WAAT,EAAsB;AAClB;AACA;AACA;AACA,WAAK,gBAAL,GAAwB,KAAK,WAA7B,CAJkB,CAKlB;AACJ;AACH,GAtBU;;AAwBX,EAAA,QAAQ,EAAE;AACN,IAAA,OAAO,GAAG;AACN;AACA;AACA,UACI,KAAK,MAAL,CAAY,OAAZ,IACA,MAAM,CAAC,IAAP,CAAY,KAAK,MAAL,CAAY,OAAxB,EAAiC,MAAjC,GAA0C,CAF9C,EAII,OAAO,IAAP,CAJJ,KAKK,OAAO,KAAP;AACR,KAVK;;AAYN,IAAA,OAAO,GAAG;AACN,UAAI,KAAK,WAAL,IAAoB,KAAK,WAAL,CAAiB,MAAjB,GAA0B,CAAlD,EAAqD,OAAO,IAAP,CAArD,KACK,OAAO,KAAP;AACR,KAfK;;AAiBN,IAAA,KAAK,GAAG;AACJ,aAAO,MAAM,CAAC,IAAP,CAAY,KAAK,MAAL,CAAY,OAAxB,EAAiC,MAAxC;AACH;;AAnBK,GAxBC;AA8CX,EAAA,OAAO,EAAE;AACL,IAAA,UAAU,CAAC,KAAD,EAAQ;AACd,UAAI,KAAI,GAAI,CAAR,IAAa,CAAjB,EAAoB,OAAO,SAAP,CAApB,KACK,OAAO,IAAP;AACR,KAJI;;AAML,IAAA,WAAW,CAAC,IAAD,EAAO;AACd,aAAO,OAAO,CAAC,OAAR,CAAgB,IAAhB,CAAP;AACH,KARI;;AAUL,IAAA,WAAW,CAAC,MAAD,EAAS;AAChB,UAAI,KAAK,WAAT,EAAsB;AAClB,eAAO,KAAK,WAAL,CAAiB,QAAjB,CAA0B,MAA1B,CAAP;AACJ,OAFA,MAEO;AACH,eAAO,KAAP;AACJ;AACH,KAhBI;;AAkBL,IAAA,UAAU,CAAC,IAAD,EAAO;AACb;AACA;AACA;AACA;AACA;AACA,UAAI,KAAK,CAAC,MAAN,CAAa,OAAb,IAAwB,IAA5B,EAAkC,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,EAAlC,KACK;AACD;AACA,aAAK,IAAI,CAAA,GAAI,CAAb,EAAgB,CAAA,GAAI,KAAK,gBAAL,CAAsB,MAA1C,EAAkD,CAAC,EAAnD,EACI,IAAI,KAAK,gBAAL,CAAsB,CAAtB,KAA4B,IAAhC,EACI,KAAK,gBAAL,CAAsB,MAAtB,CAA6B,CAA7B,EAAgC,CAAhC;AACZ,OAZa,CAab;;AAEA,UAAI,KAAK,gBAAL,CAAsB,MAAtB,GAA+B,CAAnC,EACI,KAAK,KAAL,CAAW,cAAX,EAA2B;AACvB,QAAA,GAAG,EAAE,KAAK,MAAL,CAAY,GADM;AAEvB,QAAA,gBAAgB,EAAE,KAAK,gBAFA,CAGvB;;AAHuB,OAA3B,EADJ,KAMK,KAAK,KAAL,CAAW,cAAX,EAA2B,IAA3B;AACR;;AAxCI;AA9CE,CAAf","sourcesContent":["<template>\n    <!-- * {{ filter.options }} -->\n    <div v-if=\"display\">\n        <details :open=\"is_open\">\n            <summary class=\"smaller\">\n                <span class=\"title\">{{ filter.title }}</span> ({{ total }})\n            </summary>\n            <div id=\"v-model-multiple-checkboxes\">\n                <div\n                    v-for=\"(option, index) in Object.keys(filter.options)\"\n                    :key=\"option\"\n                >\n                    <!-- <div v-if=\"index % 2 == 0\" class=\"striped\">stripped</div>\n                    <div v-else>not stripped</div> -->\n                    <div :class=\"background(index)\">\n                        <!-- checking at the key level which is some duplicated code but\n                avoids some processing (v-if) during the v-for looping -->\n                        <div\n                            v-if=\"\n                                filter.key == 'language_primary' ||\n                                    filter.key == 'languages_secondary'\n                            \"\n                            :for=\"filter.options[option]\"\n                        >\n                            <input\n                                type=\"checkbox\"\n                                :id=\"filter.key\"\n                                :value=\"option\"\n                                :checked=\"is_selected(option)\"\n                                @click=\"saveOption(option)\"\n                                class=\"small\"\n                            />\n                            <label for=\"filter.key\" class=\"smaller\">\n                                &nbsp;\n                                {{ getLanguage(option) }} ({{\n                                    filter.options[option]\n                                }})\n                            </label>\n                        </div>\n                        <div v-else :for=\"filter.options[option]\">\n                            <!-- wasn't able to get v-model=\"options_selected\" instead of saveOption() to work!-->\n                            <input\n                                type=\"checkbox\"\n                                :id=\"filter.key\"\n                                :value=\"option\"\n                                :checked=\"is_selected(option)\"\n                                @click=\"saveOption(option)\"\n                                class=\"small\"\n                            />\n                            <label for=\"filter.key\" class=\"smaller\">\n                                &nbsp;{{ option }} ({{\n                                    filter.options[option]\n                                }})\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </details>\n    </div>\n</template>\n\n<script>\n// From https://github.com/meikidd/iso-639-1\nimport ISO6391 from \"iso-639-1\";\n\nexport default {\n    props: [\"filter\", \"selected_in\"],\n    emits: [\"selected_out\"],\n\n    name: \"FilterItem\",\n\n    data() {\n        return {\n            title: \"\",\n            options_selected: [],\n            // new_filter: \"\",\n        };\n    },\n\n    mounted() {\n        if (this.selected_in) {\n            // console.log(\"FilterItem mounted filter = \", this.filter);\n            // console.log(\"FilterItem mounted selected_in = \", this.selected_in);\n            // console.log(\"options_selected 1 :\", this.options_selected);\n            this.options_selected = this.selected_in;\n            // console.log(\"options_selected 2 :\", this.options_selected);\n        }\n    },\n\n    computed: {\n        display() {\n            // console.log(\"display!\");\n            // console.log(\"filter.options : \", this.filter.options);\n            if (\n                this.filter.options &&\n                Object.keys(this.filter.options).length > 0\n            )\n                return true;\n            else return false;\n        },\n\n        is_open() {\n            if (this.selected_in && this.selected_in.length > 0) return true;\n            else return false;\n        },\n\n        total() {\n            return Object.keys(this.filter.options).length;\n        },\n    },\n\n    methods: {\n        background(index) {\n            if (index % 2 == 0) return \"striped\";\n            else return null;\n        },\n\n        getLanguage(code) {\n            return ISO6391.getName(code);\n        },\n\n        is_selected(option) {\n            if (this.selected_in) {\n                return this.selected_in.includes(option);\n            } else {\n                return false;\n            }\n        },\n\n        saveOption(data) {\n            // console.log(\"saveOption : \", data);\n            // console.log(\"checked ? \", event.target.checked);\n            // console.log(\"options_selected : \", this.options_selected);\n            // console.log(\"this : \", this);\n            // console.log(\"options_selected : \", this.options_selected);\n            if (event.target.checked == true) this.options_selected.push(data);\n            else {\n                // https://love2dev.com/blog/javascript-remove-from-array/\n                for (let i = 0; i < this.options_selected.length; i++)\n                    if (this.options_selected[i] == data)\n                        this.options_selected.splice(i, 1);\n            }\n            // console.log(\"options_selected: \", this.options_selected);\n\n            if (this.options_selected.length > 0)\n                this.$emit(\"selected_out\", {\n                    key: this.filter.key,\n                    selected_options: this.options_selected,\n                    // is_selected: event.target.checked,\n                });\n            else this.$emit(\"selected_out\", null);\n        },\n    },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.smaller {\n    font-size: smaller;\n    padding-bottom: 0.5em;\n}\n\n.striped {\n    /* background-color: papayawhip; */\n    /* background-color: palegoldenrod; */\n    /* background-color: moccasin; */\n    /* background-color: mistyrose; */\n    /* background-color: lavender; */\n    background-color: rgb(237, 236, 236);\n    /* background-color: gainsboro; */\n    /* background-color: antiquewhite; */\n}\n\n.title {\n    font-weight: bold;\n}\n</style>\n"],"sourceRoot":""}]}