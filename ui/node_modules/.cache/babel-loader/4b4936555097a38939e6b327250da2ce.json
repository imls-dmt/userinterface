{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/karl/Repos/dmtc-userinterface/ui/src/store/auth.module.js","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/store/auth.module.js","mtime":1625623538973},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGguc2VydmljZSc7CmNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpjb25zdCBpbml0aWFsU3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IHRydWUKICB9LAogIHVzZXIKfSA6IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiBmYWxzZQogIH0sCiAgdXNlcjogbnVsbAp9OwpleHBvcnQgY29uc3QgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW4oewogICAgICBjb21taXQKICAgIH0sIHVzZXIpIHsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHVzZXIpLnRoZW4odXNlciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgbG9nb3V0KHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpOwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgfQoKICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKCiAgICBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKCiAgICBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/store/auth.module.js"],"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","mutations","loginSuccess","loginFailure"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,0BAAxB;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,MAAMC,YAAY,GAAGL,IAAI,GACrB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA8BP,EAAAA;AAA9B,CADqB,GAErB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA+BP,EAAAA,IAAI,EAAE;AAArC,CAFJ;AAIA,OAAO,MAAMQ,IAAI,GAAG;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,KAAK,EAAEL,YAFW;AAGlBM,EAAAA,OAAO,EAAE;AACVC,IAAAA,KAAK,CAAC;AAAEC,MAAAA;AAAF,KAAD,EAAab,IAAb,EAAmB;AACtB,aAAOD,WAAW,CAACa,KAAZ,CAAkBZ,IAAlB,EAAwBc,IAAxB,CACRd,IAAI,IAAI;AACNa,QAAAA,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;AACA,eAAOe,OAAO,CAACC,OAAR,CAAgBhB,IAAhB,CAAP;AACD,OAJO,EAKRiB,KAAK,IAAI;AACPJ,QAAAA,MAAM,CAAC,cAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD,OARO,CAAP;AAUD,KAZS;;AAaVE,IAAAA,MAAM,CAAC;AAAEN,MAAAA;AAAF,KAAD,EAAa;AACjBd,MAAAA,WAAW,CAACoB,MAAZ;AACAN,MAAAA,MAAM,CAAC,QAAD,CAAN;AACD;;AAhBS,GAHS;AAqBlBO,EAAAA,SAAS,EAAE;AACZC,IAAAA,YAAY,CAACX,KAAD,EAAQV,IAAR,EAAc;AACxBU,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAaA,IAAb;AACD,KAJW;;AAKZsB,IAAAA,YAAY,CAACZ,KAAD,EAAQ;AAClBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACD,KARW;;AASZmB,IAAAA,MAAM,CAACT,KAAD,EAAQ;AACZA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACD;;AAZW;AArBO,CAAb","sourcesContent":["import AuthService from '../services/auth.service';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n\tlogin({ commit }, user) {\n\t  return AuthService.login(user).then(\n\t\tuser => {\n\t\t  commit('loginSuccess', user);\n\t\t  return Promise.resolve(user);\n\t\t},\n\t\terror => {\n\t\t  commit('loginFailure');\n\t\t  return Promise.reject(error);\n\t\t}\n\t  );\n\t},\n\tlogout({ commit }) {\n\t  AuthService.logout();\n\t  commit('logout');\n\t}\n},\n  mutations: {\n\tloginSuccess(state, user) {\n\t  state.status.loggedIn = true;\n\t  state.user = user;\n\t},\n\tloginFailure(state) {\n\t  state.status.loggedIn = false;\n\t  state.user = null;\n\t},\n\tlogout(state) {\n\t  state.status.loggedIn = false;\n\t  state.user = null;\n\t},\n  }\n};\n"]}]}