{"remainingRequest":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/karl/Repos/dmtc-userinterface/ui/src/components/Resource.vue?vue&type=template&id=10e72d3e","dependencies":[{"path":"/Users/karl/Repos/dmtc-userinterface/ui/src/components/Resource.vue","mtime":1626389458530},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616796459000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karl/Repos/dmtc-userinterface/ui/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGtleTogMAp9OwoKY29uc3QgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJMb2dpbiIpOwoKY29uc3QgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgdG8gYWNjZXNzIGFzc2Vzc21lbnQgYW5kIHdvcmtmbG93IGNhcGFiaWxpdGllcyBmb3IgdGhpcyByZXNvdXJjZS4iKTsKCmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJjb250YWluZXIiCn07Cgpjb25zdCBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgicCIsIG51bGwsICJBdmFpbGFibGUgQXNzZXNzbWVudCBTdXJ2ZXlzOiAiLCAtMQovKiBIT0lTVEVEICovCik7Cgpjb25zdCBfaG9pc3RlZF82ID0gewogIGtleTogMAp9Owpjb25zdCBfaG9pc3RlZF83ID0gewogIGtleTogMQp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfcm91dGVyX2xpbmsgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLWxpbmsiKTsKCiAgY29uc3QgX2NvbXBvbmVudF9SZXN1bHRJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIlJlc3VsdEl0ZW0iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbIV9jdHgubG9nZ2VkaW4gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInNwYW4iLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogewogICAgICBuYW1lOiAnTG9naW5UZXN0JwogICAgfQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfaG9pc3RlZF8yXSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSksIF9ob2lzdGVkXzNdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2hvaXN0ZWRfNSwgdGhpcy5zdXJ2ZXlzLmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInVsIiwgX2hvaXN0ZWRfNiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCh0aGlzLnN1cnZleXMsIChzdXJ2ZXksIGluZGV4KSA9PiB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImxpIiwgewogICAgICBrZXk6IGluZGV4CiAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgICAgdG86IGAvc3VydmV5LyR7c3VydmV5LmlkfWAKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhzdXJ2ZXkubGFiZWwpLCAxCiAgICAgIC8qIFRFWFQgKi8KICAgICAgKV0pLAogICAgICBfOiAyCiAgICAgIC8qIERZTkFNSUMgKi8KCiAgICB9LCAxMDMyCiAgICAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLwogICAgLCBbInRvIl0pXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInAiLCBfaG9pc3RlZF83LCAiTm8gc3VydmV5cyBhcmUgY3VycmVudGx5IGF2YWlsYWJsZSBmb3IgdGhpcyBsZWFybmluZyByZXNvdXJjZSIpKV0pLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QodGhpcy5yZXNvdXJjZXMsIChpdGVtLCBpbmRleCkgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogaXRlbQogICAgfSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1Jlc3VsdEl0ZW0sIHsKICAgICAgaW5kZXg6IGluZGV4LAogICAgICBpdGVtOiBpdGVtLAogICAgICBuUmVzb3VyY2VzOiAkZGF0YS5uUmVzb3VyY2VzLAogICAgICBpbml0aWFsRnVsbDogJGRhdGEuaW5pdGlhbEZ1bGwKICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsiaW5kZXgiLCAiaXRlbSIsICJuUmVzb3VyY2VzIiwgImluaXRpYWxGdWxsIl0pXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKTsKfQ=="},{"version":3,"sources":["/Users/karl/Repos/dmtc-userinterface/ui/src/components/Resource.vue"],"names":[],"mappings":";;;;;iDAEuE,O;;iDAAmB,oE;;;AAElF,EAAA,KAAK,EAAC;;;gCACT,YAAA,CAAqC,GAArC,EAAqC,IAArC,EAAG,gCAAH,EAAiC,CAAA;AAAA;AAAjC,C;;;;;;;;;;;;;uBAJH,YAAA,CAmBM,KAnBN,EAmBM,IAnBN,EAmBM,C,CAlBS,IAAA,CAAA,Q,kBAAb,YAAA,CAAmK,MAAnK,EAAmK,UAAnK,EAAmK,CAA5I,YAAA,CAAqI,GAArI,EAAqI,IAArI,EAAqI,CAAlI,YAAA,CAA4D,sBAA5D,EAA4D;AAA9C,IAAA,EAAE,EAAE;AAAA,MAAA,IAAA,EAAA;AAAA;AAA0C,GAA5D,EAAuC;sBAAE,MAAK,C,UAAA,C,CAAP;;;;AAAA,GAAvC,CAAkI,E,UAAA,CAArI,CAA4I,CAAnK,C,qCAkBI,EAhBL,YAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,UAKI,E,KAJW,O,CAAQ,M,GAAM,C,kBAA7B,YAAA,CAEK,IAFL,EAEK,UAFL,EAEK,E,kBADF,YAAA,CAA0I,SAA1I,EAA0I,IAA1I,EAA0I,WAAA,CAAA,KAAvG,OAAuG,EAAhG,CAA9B,MAA8B,EAAtB,KAAsB,KAAjB;yBAAzB,YAAA,CAA0I,IAA1I,EAA0I;AAA7F,MAAA,GAAG,EAAE;AAAwF,KAA1I,EAAuD,CAAE,YAAA,CAA4E,sBAA5E,EAA4E;AAA9D,MAAA,EAAE,EAAA,WAAa,MAAM,CAAC,EAAE;AAAsC,KAA5E,E;wBAA2C,MAAkB,C,kCAAf,MAAM,CAAC,K,GAAK;AAAA;OAAG,C;;;;KAA7D,E;;AAAA,M,MAAA,CAAF,CAAvD,C;GAA0I,CAA1I,E;;AAAA,GACE,EAFL,C,mBAGA,YAAA,CAA2E,GAA3E,EAA2E,UAA3E,EAAU,+DAAV,C,CACI,CANN,CAgBK,G,kBARL,YAAA,CAOO,SAPP,EAOO,IAPP,EAOO,WAAA,CAAA,KAP2B,SAO3B,EAPoC,CAA9B,IAA8B,EAAxB,KAAwB,KAAnB;yBAAxB,YAAA,CAOO,KAPP,EAOO;AAPuC,MAAA,GAAG,EAAE;AAO5C,KAPP,EAAuD,CACpD,YAAA,CAKE,qBALF,EAKE;AAJC,MAAA,KAAK,EAAE,KAIR;AAHC,MAAA,IAAI,EAAE,IAGP;AAFC,MAAA,UAAU,EAAE,KAAA,CAAA,UAEb;AADC,MAAA,WAAW,EAAE,KAAA,CAAA;AACd,KALF,E,IAAA,E;;AAAA,M,8CAAA,CADoD,CAAvD,C;GAOO,CAPP,E;;AAAA,GAQK,EAnBN,C","sourcesContent":["<template>\n  <div>\n    <span v-if=\"!loggedin\"><p><router-link :to=\"{ name: 'LoginTest' }\">Login</router-link> to access assessment and workflow capabilities for this resource.</p></span>\n    \n   <div class=\"container\">\n     <p>Available Assessment Surveys: </p>\n     <ul v-if=\"this.surveys.length > 0\">\n        <li v-for=\"(survey, index) in this.surveys\" :key=\"index\"><router-link :to=\"`/survey/${survey.id}`\"> {{ survey.label }} </router-link></li>\n     </ul>\n     <p v-else>No surveys are currently available for this learning resource</p>\n   </div>\n   \n   <div v-for=\"(item, index) in this.resources\" :key=\"item\">\n      <ResultItem\n        :index=\"index\"\n        :item=\"item\"\n        :nResources=\"nResources\"\n        :initialFull=\"initialFull\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ResultItem from \"./ResultItem.vue\";\nimport { mapGetters } from 'vuex';\n\n\nexport default {\n  name: \"Resource\",\n  components: { ResultItem },\n\n  props: [\"id\"],\n\n  data() {\n    return {\n      //resourceID: \"32335b19-8e6f-3772-aacc-1379d70330bb\",\n      isLoaded: false,\n      fetchBase: \"https://esip-dev-02.edacnm.org/api/resources/?id=\",\n      surveyBase: \"https://esip-dev-02.edacnm.org/api/surveys/?resourceid=\",\n      fetchURL: \"\",\n      resources: [],\n      surveys: [],\n      nResources: 0,\n      initialFull: true,\n    };\n  },\n\n  created() {\n    this.fetchItem(this.id);\n    this.fetchSurveys(this.id);\n  },\n\n  watch: {\n    resources: function () {\n      this.nResources = this.resources.length;\n    },\n  },\n  \n  computed: {\n    ...mapGetters([\n      'loggedin',\n      'username',\n      'groups'\n    ])\n    },\n\n  methods: {\n    fetchItem(id) {\n      console.log(\"entering fetchItem\");\n      this.isLoaded = false;\n      console.log(\"Trying to retrieve record ID: \", id);\n      this.fetchURL = this.fetchBase.concat(id);\n      console.log(\"Request URL: \", this.fetchURL);\n      fetch(this.fetchURL, {\n        method: \"GET\",\n      })\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            throw new Error();\n          }\n        })\n        .then((result) => {\n          this.resources = result[\"results\"];\n          console.log(this.resources);\n          console.log(this.resources.length);\n        })\n        .catch(() => {});\n    },\n    fetchSurveys(id) {\n      console.log(\"entering fetchSurveys\");\n      this.isLoaded = false;\n      console.log(\"Trying to retrieve surveys for record ID: \", id);\n      this.fetchURL = this.surveyBase.concat(id);\n      console.log(\"Request URL: \", this.fetchURL);\n      fetch(this.fetchURL, {\n        method: \"GET\",\n      })\n        .then((response) => {\n          if (response.ok) {\n              return response.json();\n            } else {\n              throw new Error();\n            }\n          })\n          .then((result) => {\n            this.surveys = result[\"surveys\"];\n            console.log(this.surveys);\n            console.log(this.surveys.length);\n          })\n          .catch(() => {});\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}